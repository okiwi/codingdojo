import org.junit.jupiter.api.Test;

import static org.assertj.core.api.Assertions.assertThat;

class Day1Test {

    @Test
    void simplePositiveFrequency() {
        checkFrequency("+1", 1);
    }

    @Test
    void simpleNegativeFrequency() {
        checkFrequency("-3", -3);
    }

    @Test
    void test_multiline() {
        String s = "-6\n" +
                "-3";
        checkFrequency(s, -9);
    }

    private void checkFrequency(String s, int expectedFrequency) {
        assertThat(Day1.computeDoubleFrequency(s)).isEqualTo(expectedFrequency);
    }

    private void checkDoubleFrequency(String s, int expectedDoubleFrequency) {
        assertThat(Day1.computeDoubleFrequency(s)).isEqualTo(expectedDoubleFrequency);
    }


    @Test
    void simpleDoubleFrequency() {
        String s = "1\n"+"1\n" +
                "-1";
        checkDoubleFrequency(s, 1);
    }

    @Test
    void lessSimpleDoubleFrequency() {
        String s = "+7\n+3\n+4\n-4\n+10";
        checkDoubleFrequency(s, 10);
    }

    @Test
    void noDoubleFrequencyFirstRun() {
        String s = "+3\n+3\n+4\n-2\n-4";
        checkDoubleFrequency(s, 10);
    }

    @Test
    void test_multiline_data() {
        String inputData = "-2\n" +
                "-6\n" +
                "+2\n" +
                "-10\n" +
                "-4\n" +
                "-7\n" +
                "+8\n" +
                "-10\n" +
                "-15\n" +
                "-4\n" +
                "+20\n" +
                "+16\n" +
                "+20\n" +
                "+5\n" +
                "-2\n" +
                "+16\n" +
                "+8\n" +
                "-10\n" +
                "-2\n" +
                "-21\n" +
                "+13\n" +
                "+6\n" +
                "+5\n" +
                "-14\n" +
                "-13\n" +
                "-17\n" +
                "-8\n" +
                "-7\n" +
                "+19\n" +
                "-21\n" +
                "-16\n" +
                "+19\n" +
                "+7\n" +
                "+3\n" +
                "+17\n" +
                "+6\n" +
                "+8\n" +
                "-4\n" +
                "+2\n" +
                "+21\n" +
                "+8\n" +
                "+11\n" +
                "+5\n" +
                "+8\n" +
                "-15\n" +
                "-8\n" +
                "+1\n" +
                "+17\n" +
                "-7\n" +
                "-7\n" +
                "-17\n" +
                "+10\n" +
                "+6\n" +
                "+6\n" +
                "+12\n" +
                "+16\n" +
                "+1\n" +
                "+11\n" +
                "-10\n" +
                "-13\n" +
                "-2\n" +
                "+12\n" +
                "-14\n" +
                "+13\n" +
                "+13\n" +
                "+13\n" +
                "+6\n" +
                "-4\n" +
                "+1\n" +
                "+6\n" +
                "-1\n" +
                "-18\n" +
                "+14\n" +
                "+3\n" +
                "+18\n" +
                "-8\n" +
                "+15\n" +
                "-18\n" +
                "-21\n" +
                "+4\n" +
                "-8\n" +
                "-7\n" +
                "-16\n" +
                "-10\n" +
                "+2\n" +
                "-12\n" +
                "-15\n" +
                "+13\n" +
                "-11\n" +
                "-9\n" +
                "-5\n" +
                "-20\n" +
                "+6\n" +
                "-18\n" +
                "-15\n" +
                "-1\n" +
                "+8\n" +
                "+12\n" +
                "+15\n" +
                "+15\n" +
                "+20\n" +
                "+11\n" +
                "+15\n" +
                "+17\n" +
                "+10\n" +
                "-8\n" +
                "-7\n" +
                "+1\n" +
                "+12\n" +
                "+7\n" +
                "+11\n" +
                "+3\n" +
                "+5\n" +
                "-2\n" +
                "+14\n" +
                "-8\n" +
                "+15\n" +
                "-3\n" +
                "-5\n" +
                "-17\n" +
                "+15\n" +
                "-3\n" +
                "+23\n" +
                "+14\n" +
                "-11\n" +
                "-10\n" +
                "+14\n" +
                "-15\n" +
                "+6\n" +
                "+10\n" +
                "-9\n" +
                "+10\n" +
                "-3\n" +
                "-4\n" +
                "+10\n" +
                "+8\n" +
                "+16\n" +
                "-18\n" +
                "-2\n" +
                "+11\n" +
                "+14\n" +
                "-16\n" +
                "+6\n" +
                "-8\n" +
                "+16\n" +
                "-18\n" +
                "-16\n" +
                "-4\n" +
                "-6\n" +
                "+2\n" +
                "-3\n" +
                "+2\n" +
                "-8\n" +
                "-7\n" +
                "-5\n" +
                "+13\n" +
                "+2\n" +
                "-12\n" +
                "-5\n" +
                "-23\n" +
                "+13\n" +
                "-26\n" +
                "-16\n" +
                "-1\n" +
                "-9\n" +
                "-8\n" +
                "+21\n" +
                "-1\n" +
                "-16\n" +
                "-21\n" +
                "-16\n" +
                "+14\n" +
                "-10\n" +
                "+13\n" +
                "+18\n" +
                "+17\n" +
                "+3\n" +
                "+18\n" +
                "-10\n" +
                "+24\n" +
                "+10\n" +
                "-20\n" +
                "+36\n" +
                "-11\n" +
                "-19\n" +
                "+18\n" +
                "+43\n" +
                "+2\n" +
                "+5\n" +
                "+12\n" +
                "+14\n" +
                "-15\n" +
                "-14\n" +
                "+5\n" +
                "+11\n" +
                "+18\n" +
                "-15\n" +
                "+13\n" +
                "-4\n" +
                "+8\n" +
                "-5\n" +
                "-6\n" +
                "+17\n" +
                "+1\n" +
                "-3\n" +
                "+4\n" +
                "+11\n" +
                "+16\n" +
                "+16\n" +
                "+11\n" +
                "+11\n" +
                "+13\n" +
                "-12\n" +
                "+14\n" +
                "-16\n" +
                "-7\n" +
                "-9\n" +
                "+4\n" +
                "-10\n" +
                "-13\n" +
                "-19\n" +
                "+11\n" +
                "+5\n" +
                "-3\n" +
                "-9\n" +
                "+17\n" +
                "+6\n" +
                "+9\n" +
                "-12\n" +
                "+17\n" +
                "-11\n" +
                "+16\n" +
                "+13\n" +
                "+14\n" +
                "+10\n" +
                "-5\n" +
                "+2\n" +
                "-16\n" +
                "+18\n" +
                "-1\n" +
                "+8\n" +
                "+17\n" +
                "+11\n" +
                "+13\n" +
                "-18\n" +
                "+10\n" +
                "-1\n" +
                "+4\n" +
                "+9\n" +
                "+16\n" +
                "+13\n" +
                "-18\n" +
                "+1\n" +
                "+10\n" +
                "-7\n" +
                "+11\n" +
                "-12\n" +
                "-12\n" +
                "+7\n" +
                "-20\n" +
                "+18\n" +
                "-13\n" +
                "+3\n" +
                "+21\n" +
                "+17\n" +
                "+5\n" +
                "+14\n" +
                "-2\n" +
                "-14\n" +
                "+13\n" +
                "+4\n" +
                "-11\n" +
                "-19\n" +
                "-15\n" +
                "-7\n" +
                "+18\n" +
                "-1\n" +
                "+10\n" +
                "+9\n" +
                "-8\n" +
                "+2\n" +
                "-16\n" +
                "-13\n" +
                "-9\n" +
                "+3\n" +
                "+10\n" +
                "+15\n" +
                "+18\n" +
                "+9\n" +
                "-18\n" +
                "-13\n" +
                "+5\n" +
                "+10\n" +
                "+12\n" +
                "-10\n" +
                "+17\n" +
                "+16\n" +
                "-12\n" +
                "+23\n" +
                "+9\n" +
                "+18\n" +
                "+4\n" +
                "-28\n" +
                "+20\n" +
                "-4\n" +
                "+56\n" +
                "-19\n" +
                "-52\n" +
                "-28\n" +
                "-8\n" +
                "-35\n" +
                "-20\n" +
                "-3\n" +
                "-5\n" +
                "+16\n" +
                "-19\n" +
                "-8\n" +
                "+3\n" +
                "+9\n" +
                "+19\n" +
                "+22\n" +
                "+10\n" +
                "-9\n" +
                "+44\n" +
                "+4\n" +
                "-17\n" +
                "-12\n" +
                "-48\n" +
                "+7\n" +
                "-14\n" +
                "-22\n" +
                "+9\n" +
                "-4\n" +
                "-16\n" +
                "+5\n" +
                "+12\n" +
                "-3\n" +
                "-16\n" +
                "+12\n" +
                "+2\n" +
                "-15\n" +
                "+12\n" +
                "-26\n" +
                "-7\n" +
                "-12\n" +
                "-18\n" +
                "-16\n" +
                "+6\n" +
                "-15\n" +
                "+17\n" +
                "-9\n" +
                "-4\n" +
                "-8\n" +
                "-7\n" +
                "+12\n" +
                "-16\n" +
                "+8\n" +
                "-5\n" +
                "+3\n" +
                "+7\n" +
                "+8\n" +
                "-14\n" +
                "-8\n" +
                "-13\n" +
                "+10\n" +
                "+14\n" +
                "+26\n" +
                "+14\n" +
                "-6\n" +
                "+22\n" +
                "-13\n" +
                "-1\n" +
                "+11\n" +
                "-17\n" +
                "+15\n" +
                "+6\n" +
                "+18\n" +
                "+13\n" +
                "-5\n" +
                "+8\n" +
                "+1\n" +
                "-5\n" +
                "-19\n" +
                "-3\n" +
                "-3\n" +
                "+14\n" +
                "-10\n" +
                "-17\n" +
                "+5\n" +
                "+16\n" +
                "+7\n" +
                "+8\n" +
                "+5\n" +
                "+16\n" +
                "-20\n" +
                "+19\n" +
                "+4\n" +
                "-30\n" +
                "-1\n" +
                "-20\n" +
                "+5\n" +
                "-32\n" +
                "-12\n" +
                "+20\n" +
                "-14\n" +
                "+3\n" +
                "-11\n" +
                "-18\n" +
                "-21\n" +
                "+4\n" +
                "+1\n" +
                "-19\n" +
                "-17\n" +
                "+13\n" +
                "+12\n" +
                "+13\n" +
                "-1\n" +
                "-17\n" +
                "-19\n" +
                "+13\n" +
                "-6\n" +
                "+20\n" +
                "-17\n" +
                "-14\n" +
                "-22\n" +
                "+9\n" +
                "-3\n" +
                "+18\n" +
                "+24\n" +
                "-7\n" +
                "+25\n" +
                "-38\n" +
                "-96\n" +
                "+13\n" +
                "+37\n" +
                "+25\n" +
                "+58\n" +
                "-13\n" +
                "+42\n" +
                "+28\n" +
                "+8\n" +
                "+159\n" +
                "-43\n" +
                "-572\n" +
                "-62794\n" +
                "+19\n" +
                "+8\n" +
                "-17\n" +
                "-9\n" +
                "+3\n" +
                "-1\n" +
                "+5\n" +
                "+4\n" +
                "+16\n" +
                "+11\n" +
                "+4\n" +
                "-18\n" +
                "+5\n" +
                "-10\n" +
                "+9\n" +
                "+15\n" +
                "+16\n" +
                "-5\n" +
                "+17\n" +
                "-16\n" +
                "-4\n" +
                "-11\n" +
                "-18\n" +
                "+3\n" +
                "-12\n" +
                "+3\n" +
                "-18\n" +
                "-7\n" +
                "-7\n" +
                "+5\n" +
                "+3\n" +
                "-17\n" +
                "+8\n" +
                "-15\n" +
                "-2\n" +
                "+11\n" +
                "-6\n" +
                "+17\n" +
                "-12\n" +
                "-9\n" +
                "+6\n" +
                "-4\n" +
                "+10\n" +
                "+7\n" +
                "-1\n" +
                "-7\n" +
                "-16\n" +
                "+3\n" +
                "-1\n" +
                "-9\n" +
                "-4\n" +
                "-10\n" +
                "+2\n" +
                "-13\n" +
                "+4\n" +
                "-19\n" +
                "-7\n" +
                "-5\n" +
                "+1\n" +
                "-17\n" +
                "-3\n" +
                "-13\n" +
                "+15\n" +
                "-3\n" +
                "+9\n" +
                "+14\n" +
                "-9\n" +
                "+4\n" +
                "-1\n" +
                "-9\n" +
                "+14\n" +
                "-6\n" +
                "-3\n" +
                "-17\n" +
                "+19\n" +
                "-8\n" +
                "-15\n" +
                "-9\n" +
                "-18\n" +
                "+9\n" +
                "+19\n" +
                "-3\n" +
                "+16\n" +
                "-20\n" +
                "+3\n" +
                "-19\n" +
                "+10\n" +
                "+14\n" +
                "+11\n" +
                "-3\n" +
                "+10\n" +
                "+14\n" +
                "+12\n" +
                "-14\n" +
                "+15\n" +
                "-10\n" +
                "-10\n" +
                "+15\n" +
                "+9\n" +
                "+9\n" +
                "+4\n" +
                "-2\n" +
                "-9\n" +
                "-8\n" +
                "+11\n" +
                "+5\n" +
                "+16\n" +
                "-8\n" +
                "+16\n" +
                "-11\n" +
                "+9\n" +
                "-18\n" +
                "-11\n" +
                "+17\n" +
                "+15\n" +
                "-16\n" +
                "+2\n" +
                "-23\n" +
                "+14\n" +
                "+4\n" +
                "+14\n" +
                "+1\n" +
                "+6\n" +
                "+9\n" +
                "-19\n" +
                "-3\n" +
                "-17\n" +
                "-6\n" +
                "-16\n" +
                "-17\n" +
                "+16\n" +
                "+15\n" +
                "-9\n" +
                "+32\n" +
                "+11\n" +
                "-5\n" +
                "-22\n" +
                "-14\n" +
                "+5\n" +
                "-30\n" +
                "-13\n" +
                "-10\n" +
                "-11\n" +
                "-15\n" +
                "-5\n" +
                "-3\n" +
                "-7\n" +
                "+3\n" +
                "+9\n" +
                "+5\n" +
                "-1\n" +
                "-17\n" +
                "-17\n" +
                "+13\n" +
                "+14\n" +
                "-7\n" +
                "-16\n" +
                "+18\n" +
                "-16\n" +
                "+17\n" +
                "-9\n" +
                "+10\n" +
                "-17\n" +
                "-10\n" +
                "+19\n" +
                "+10\n" +
                "-16\n" +
                "-15\n" +
                "+16\n" +
                "-6\n" +
                "-6\n" +
                "-9\n" +
                "-17\n" +
                "+16\n" +
                "+3\n" +
                "-7\n" +
                "+17\n" +
                "-16\n" +
                "-16\n" +
                "-9\n" +
                "-9\n" +
                "+8\n" +
                "-1\n" +
                "-6\n" +
                "-14\n" +
                "+17\n" +
                "-12\n" +
                "-13\n" +
                "+12\n" +
                "-1\n" +
                "+13\n" +
                "+2\n" +
                "+10\n" +
                "-4\n" +
                "-5\n" +
                "-8\n" +
                "+14\n" +
                "-18\n" +
                "+16\n" +
                "+7\n" +
                "+8\n" +
                "+11\n" +
                "-14\n" +
                "-8\n" +
                "-15\n" +
                "-21\n" +
                "-18\n" +
                "+10\n" +
                "-3\n" +
                "+8\n" +
                "+8\n" +
                "-6\n" +
                "-13\n" +
                "-11\n" +
                "+6\n" +
                "-2\n" +
                "+14\n" +
                "-16\n" +
                "-16\n" +
                "-17\n" +
                "+10\n" +
                "+11\n" +
                "-13\n" +
                "-18\n" +
                "-5\n" +
                "+4\n" +
                "+9\n" +
                "-6\n" +
                "+5\n" +
                "+16\n" +
                "+13\n" +
                "+8\n" +
                "-15\n" +
                "+20\n" +
                "-7\n" +
                "+19\n" +
                "+7\n" +
                "+15\n" +
                "-7\n" +
                "-7\n" +
                "-18\n" +
                "-14\n" +
                "+9\n" +
                "-6\n" +
                "+13\n" +
                "+11\n" +
                "-8\n" +
                "+6\n" +
                "-5\n" +
                "-3\n" +
                "-26\n" +
                "-9\n" +
                "+6\n" +
                "-8\n" +
                "+15\n" +
                "-18\n" +
                "+12\n" +
                "-2\n" +
                "-8\n" +
                "-25\n" +
                "+15\n" +
                "-16\n" +
                "-1\n" +
                "-7\n" +
                "-18\n" +
                "+14\n" +
                "+6\n" +
                "+10\n" +
                "-15\n" +
                "-17\n" +
                "+12\n" +
                "-5\n" +
                "+8\n" +
                "-7\n" +
                "-10\n" +
                "-5\n" +
                "-18\n" +
                "+1\n" +
                "+14\n" +
                "-2\n" +
                "+11\n" +
                "+4\n" +
                "+18\n" +
                "-10\n" +
                "-19\n" +
                "-18\n" +
                "-19\n" +
                "+10\n" +
                "-14\n" +
                "-12\n" +
                "+14\n" +
                "-15\n" +
                "+10\n" +
                "+2\n" +
                "+12\n" +
                "-8\n" +
                "+14\n" +
                "+19\n" +
                "-20\n" +
                "+11\n" +
                "-8\n" +
                "+10\n" +
                "-21\n" +
                "+25\n" +
                "+21\n" +
                "+1\n" +
                "+20\n" +
                "+17\n" +
                "+6\n" +
                "+11\n" +
                "-13\n" +
                "-17\n" +
                "-20\n" +
                "+4\n" +
                "-1\n" +
                "-19\n" +
                "-11\n" +
                "+14\n" +
                "+12\n" +
                "-18\n" +
                "+5\n" +
                "-11\n" +
                "+33\n" +
                "+13\n" +
                "+8\n" +
                "+3\n" +
                "+9\n" +
                "-10\n" +
                "+30\n" +
                "-18\n" +
                "-3\n" +
                "+23\n" +
                "+42\n" +
                "+4\n" +
                "-7\n" +
                "+10\n" +
                "-14\n" +
                "+20\n" +
                "-5\n" +
                "+30\n" +
                "+1\n" +
                "-15\n" +
                "+19\n" +
                "+12\n" +
                "-3\n" +
                "-6\n" +
                "+7\n" +
                "+21\n" +
                "-3\n" +
                "+27\n" +
                "+17\n" +
                "+15\n" +
                "-18\n" +
                "-4\n" +
                "-17\n" +
                "+22\n" +
                "-14\n" +
                "-9\n" +
                "+12\n" +
                "+2\n" +
                "-1\n" +
                "+7\n" +
                "-10\n" +
                "+6\n" +
                "+3\n" +
                "+17\n" +
                "-4\n" +
                "-6\n" +
                "+13\n" +
                "-34\n" +
                "-33\n" +
                "-2\n" +
                "+18\n" +
                "-11\n" +
                "-17\n" +
                "-20\n" +
                "-3\n" +
                "+15\n" +
                "-5\n" +
                "-6\n" +
                "-48\n" +
                "+12\n" +
                "-22\n" +
                "-12\n" +
                "-17\n" +
                "-25\n" +
                "-9\n" +
                "-24\n" +
                "-15\n" +
                "-22\n" +
                "-15\n" +
                "+17\n" +
                "+5\n" +
                "-14\n" +
                "+22\n" +
                "+3\n" +
                "-1\n" +
                "-18\n" +
                "-37\n" +
                "-3\n" +
                "-8\n" +
                "+4\n" +
                "+9\n" +
                "+7\n" +
                "-5\n" +
                "-19\n" +
                "-19\n" +
                "-4\n" +
                "+12\n" +
                "-2\n" +
                "+35\n" +
                "-28\n" +
                "+8\n" +
                "+11\n" +
                "+80\n" +
                "+20\n" +
                "+12\n" +
                "-17\n" +
                "+16\n" +
                "-40\n" +
                "-43\n" +
                "-11\n" +
                "-19\n" +
                "-8\n" +
                "-2\n" +
                "+20\n" +
                "-33\n" +
                "+9\n" +
                "-71\n" +
                "-6\n" +
                "+1\n" +
                "-128\n" +
                "+1\n" +
                "+5\n" +
                "+28\n" +
                "-27\n" +
                "+16\n" +
                "+40\n" +
                "-9\n" +
                "+265\n" +
                "+54\n" +
                "-9\n" +
                "+43\n" +
                "-39\n" +
                "-63256\n" +
                "+12\n" +
                "+18\n" +
                "-14\n" +
                "+13\n" +
                "+15\n" +
                "-10\n" +
                "+13\n" +
                "+5\n" +
                "+1\n" +
                "+14\n" +
                "+15\n" +
                "-7\n" +
                "+18\n" +
                "-2\n" +
                "-7\n" +
                "-14\n" +
                "-6\n" +
                "-10\n" +
                "-15\n" +
                "-3\n" +
                "+12\n" +
                "+17\n" +
                "-19\n" +
                "+12\n" +
                "+8\n" +
                "+12\n" +
                "-19\n" +
                "+4\n" +
                "-18\n" +
                "-14\n" +
                "-20\n" +
                "-6\n" +
                "-19\n" +
                "+12\n" +
                "-11\n" +
                "-19\n" +
                "+2\n" +
                "+19\n" +
                "+4\n" +
                "-12\n" +
                "+3\n" +
                "+19\n" +
                "+11\n" +
                "+9\n" +
                "-17\n" +
                "-11\n" +
                "+1\n" +
                "+13\n" +
                "+11\n" +
                "-18\n" +
                "-12\n" +
                "-2\n" +
                "-14\n" +
                "-13\n" +
                "-6\n" +
                "+7\n" +
                "+2\n" +
                "-10\n" +
                "-14\n" +
                "-18\n" +
                "+1\n" +
                "+14\n" +
                "+11\n" +
                "-6\n" +
                "-6\n" +
                "-3\n" +
                "-18\n" +
                "-7\n" +
                "+127054\n";
        checkFrequency(inputData, 445);
    }
}